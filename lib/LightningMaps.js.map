{"version":3,"sources":["webpack://LightningMaps/webpack/universalModuleDefinition","webpack://LightningMaps/webpack/bootstrap","webpack://LightningMaps/./node_modules/robust-orientation/orientation.js","webpack://LightningMaps/./node_modules/robust-point-in-polygon/robust-pnp.js","webpack://LightningMaps/./node_modules/robust-scale/robust-scale.js","webpack://LightningMaps/./node_modules/robust-subtract/robust-diff.js","webpack://LightningMaps/./node_modules/robust-sum/robust-sum.js","webpack://LightningMaps/./node_modules/topojson-client/index.js","webpack://LightningMaps/./node_modules/topojson-client/src/bbox.js","webpack://LightningMaps/./node_modules/topojson-client/src/bisect.js","webpack://LightningMaps/./node_modules/topojson-client/src/feature.js","webpack://LightningMaps/./node_modules/topojson-client/src/identity.js","webpack://LightningMaps/./node_modules/topojson-client/src/merge.js","webpack://LightningMaps/./node_modules/topojson-client/src/mesh.js","webpack://LightningMaps/./node_modules/topojson-client/src/neighbors.js","webpack://LightningMaps/./node_modules/topojson-client/src/quantize.js","webpack://LightningMaps/./node_modules/topojson-client/src/reverse.js","webpack://LightningMaps/./node_modules/topojson-client/src/stitch.js","webpack://LightningMaps/./node_modules/topojson-client/src/transform.js","webpack://LightningMaps/./node_modules/topojson-client/src/untransform.js","webpack://LightningMaps/./node_modules/two-product/two-product.js","webpack://LightningMaps/./node_modules/two-sum/two-sum.js","webpack://LightningMaps/./src/Map.js","webpack://LightningMaps/./src/MapState.js","webpack://LightningMaps/./src/Marker.js","webpack://LightningMaps/./src/Polygon.js","webpack://LightningMaps/./src/Tile.js","webpack://LightningMaps/./src/TileConversion.js","webpack://LightningMaps/./src/TileLayer.js","webpack://LightningMaps/./src/defaultOptions.js","webpack://LightningMaps/./src/index.js"],"names":["Map","canvas","options","getContext","Error","context","Object","assign","defaultMapOptions","initializeState","attachEvents","lastDrawState","onMarkerClicked","onMarkerHover","onPolygonHover","draw","bind","window","requestAnimationFrame","state","canvasDimensions","width","height","tiles","moveOffset","targetMoveOffset","targetMoveOffsetIsCoord","moveAnimationStart","dragStartPosition","lastZoomEventActionTime","startZoom","zoom","targetZoom","zoomAnimationStart","scale","lastMouseMoveEvent","mouseVelocities","markers","polygons","tileLayers","TileLayer","mousePosition","x","y","zoomValueIsValid","isReadyForZoomEvent","Math","round","push","performance","now","coord","Array","isArray","length","map","parseFloat","animated","TileConversion","pixelToLatLon","center","tileSize","milliSecondsSinceLastEvent","debounceIntervalMs","position1","position2","time1","time2","addEventListener","event","preventDefault","deltaY","setZoom","canvasCenter","getCanvasCenter","setTargetMoveOffset","clientX","clientY","handleMouseEventInteraction","timingThreshold","throwTimingThresholdMs","thresholdsToConsider","filter","threshold","velocitySum","reduce","accumulator","velocity","averageVelocity","throwVelocityThreshold","multiplier","panAccelerationMultiplier","min","maxPanAcceleration","updateCenter","vx","calculateVelocity","vy","sqrt","time","targetMoveOffsetChanged","timestamp","progress","max","percentage","easeOutQuad","animationDurationMs","latLonToPixel","targetHasBeenReached","latLon","differenceFromTarget","abs","newZoomDiff","remainingTime","roundedZoom","diff","pow","shift","tilesZoomLevel","allTiles","values","maxTilesToKeep","tileExpirationCutOff","Date","getTime","tilesToConsider","tile","lastRequested","sort","a","b","tilesToDeleteCount","splice","forEach","src","tileId","drawState","JSON","stringify","updateMoveOffset","updateZoom","tileLayer","calculateGrid","garbageCollect","shouldRedraw","drawTiles","renderPolygons","renderMarkers","renderControls","renderAttribution","nw","se","bounds","getMapBounds","marker","coords","visibleMarkers","getVisibleMarkers","position","render","mapState","MapState","polygon","handleMouseOver","name","controlObjects","getControlObjects","item","isMouseOverObject","getMarkersBounds","controlObject","label","anyItemIsHover","style","cursor","margin","size","markerSize","markerOffset","offset","renderControl","radius","fillStyle","roundedRectangle","font","textAlign","textBaseline","fillText","textBounds","measureText","attribution","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","fill","addMarker","_center","_zoom","_targetZoom","_tileSize","_canvasDimensions","_moveOffset","Marker","_coords","_options","defaultMarkerOptions","renderFunction","type","renderMarker","renderCircle","renderDonut","renderImage","color","strokeStyle","save","arc","PI","restore","lineWidth","stroke","transform","bezierCurveTo","image","drawImage","Polygon","json","objectName","hoverOptions","defaultPolygonOptions","_hoverOptions","defaultPolygonHoverOptions","geometry","feature","objects","currentlyZooming","projectedGeometry","originZoom","determineOriginZoom","centerOffset","calculateCenterOffset","point","isHover","list","classifyPoint","index","applyContextStyles","enableStroke","enableFill","lon2tile","lat2tile","zoomDiff","mapCenterChanged","renderedMapCenter","mapZoomChanged","renderedZoomLevel","shouldReRender","features","projectGeometry","calculatePolygonExtends","imagePosition","polygonExtends","minX","minY","imageRect","left","floor","right","ceil","top","bottom","renderOffscreenCanvas","imageDrawPosition","scaledWidth","polygonDimensions","scaledHeight","offscreenCanvas","clipRect","document","createElement","maxX","maxY","mapGeometry","offscreenContext","createOffscreenCanvas","pointsInClipRect","setLineDash","lineDash","lineJoin","pointCallback","coordinates","projectPoint","_geometry","_projectedGeometry","_projectedGeometryState","projectedGeometryState","Tile","_x","_y","join","lon","rounded","lat","log","tan","cos","z","n","atan","exp","ne","tile2lat","tile2lon","sw","pixel","pointDiff","tileX","tileY","tileCenterX","tileCenterY","shouldBeDeleted","grid","gridHash","relativeTileOffset","loadedPercentage","canvasSize","tilesCount","tileAreaMultiplier","centerY","centerX","gridNeedsToBeUpdated","horizontalTiles","getTilesCount","verticalTiles","centerYRounded","centerXRounded","startX","startY","isValid","ensureTileAsset","id","tileUrl","source","Image","loaded","onload","canvasWidth","canvasHeight","fillRect","horizontalOverflow","verticalOverflow","drawGenericBackground","err","debug","strokeRect","increment","lineX","lineY","totalTiles","loadedTiles","cachedTile"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFY;;AAEZ,iBAAiB,mBAAO,CAAC,8DAAa;AACtC,gBAAgB,mBAAO,CAAC,2DAAY;AACpC,kBAAkB,mBAAO,CAAC,iEAAc;AACxC,qBAAqB,mBAAO,CAAC,sEAAiB;;AAE9C;;AAEA;AACA;AACA;;AAEA;AACA;AACA,cAAc,YAAY;AAC1B;AACA,oBAAoB,YAAY;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,KAAK;AACnB;AACA,gBAAgB,KAAK;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAc,KAAK;AACnB;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,+CAA+C;AACzG,uBAAuB;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA,2BAA2B,WAAW;AACtC,2BAA2B,WAAW;AACtC,+B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,eAAe;AAC7B;AACA;AACA;AACA;AACA,gDAAgD,yBAAyB,uBAAuB;AAChG;AACA,cAAc,eAAe;AAC7B,2EAA2E;AAC3E;AACA,cAAc,kCAAkC,YAAY,mBAAmB,KAAK,mBAAmB,gBAAgB;AACvH;;AAEA;AACA;AACA,cAAc,eAAe;AAC7B;AACA;AACA;;AAEA,yB;;;;;;;;;;;AC7LA;;AAEA,aAAa,mBAAO,CAAC,4EAAoB;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,OAAO;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACnGY;;AAEZ,iBAAiB,mBAAO,CAAC,8DAAa;AACtC,aAAa,mBAAO,CAAC,kDAAS;;AAE9B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc,KAAK;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACjDY;;AAEZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,K;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;AC3JY;;AAEZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,K;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;AC3JA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2C;AACM;AACI;AACG;AACH;AACF;AACE;AACI;;;;;;;;;;;;;ACPzD;AAAA;AAAoC;;AAErB;AACf,UAAU,0DAAS;AACnB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oEAAoE;AACpE,6CAA6C;AAC7C,0DAA0D;AAC1D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;;;ACtCD;AAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACRD;AAAA;AAAA;AAAA;AAAA;AAAgC;AACI;;AAErB;AACf;AACA,SAAS,mEAAmE,6BAA6B,EAAE;AAC3G;AACA,CAAC;;AAEM;AACP;AACA;AACA,4CAA4C;AAC5C;AACA,uCAAuC;AACvC,wBAAwB;AACxB,SAAS;AACT;;AAEO;AACP,uBAAuB,0DAAS;AAChC;;AAEA;AACA;AACA,2DAA2D,OAAO;AAClE;AACA;AACA,eAAe,wDAAO;AACtB;;AAEA;AACA;AACA;;AAEA;AACA;AACA,oCAAoC,OAAO;AAC3C,kDAAkD;AAClD;AACA;;AAEA;AACA;AACA,qDAAqD;AACrD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC;AACzC,uDAAuD;AACvD,gEAAgE;AAChE,oDAAoD;AACpD,6DAA6D;AAC7D,oDAAoD;AACpD,6DAA6D;AAC7D;AACA;AACA,YAAY;AACZ;;AAEA;AACA;;;;;;;;;;;;;ACpEA;AAAe;AACf;AACA,CAAC;;;;;;;;;;;;;ACFD;AAAA;AAAA;AAAA;AAAiC;AACH;;AAE9B;AACA;AACA;AACA,wBAAwB;AACxB;;AAEe;AACf,SAAS,uDAAM;AACf,CAAC;;AAEM;AACP,wBAAwB;AACxB;AACA;;AAEA;;AAEA;AACA;AACA,gEAAgE;AAChE,sCAAsC;AACtC,mDAAmD;AACnD;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA,0BAA0B,uDAAM,YAAY,8BAA8B;AAC1E;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,WAAW;AACX,SAAS;AACT;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT,OAAO;;AAEP;AACA,aAAa,uDAAM;;AAEnB;AACA;AACA;AACA;AACA,iDAAiD,OAAO;AACxD;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;ACpGA;AAAA;AAAA;AAAA;AAAiC;AACH;;AAEf;AACf,SAAS,uDAAM;AACf,CAAC;;AAEM;AACP;AACA;AACA,8DAA8D,OAAO;AACrE,UAAU,+BAA+B,uDAAM;AAC/C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,kDAAkD,cAAc;AAChE;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gEAAgE;AAChE,0CAA0C;AAC1C,+DAA+D;AAC/D,4CAA4C;AAC5C;AACA;;AAEA;;AAEA;AACA,yBAAyB,uBAAuB;AAChD,yBAAyB,0EAA0E,EAAE;;AAErG;AACA;;;;;;;;;;;;;ACpDA;AAAA;AAA8B;;AAEf;AACf,uBAAuB;AACvB,0CAA0C,WAAW,EAAE;;AAEvD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA,gCAAgC,cAAc,EAAE;AAChD;;AAEA;AACA,2EAA2E,gBAAgB,EAAE;AAC7F;AACA;;AAEA;AACA;AACA;AACA;AACA,qCAAqC,6BAA6B,iBAAiB,EAAE,EAAE;AACvF;;AAEA;;AAEA;AACA,kEAAkE,OAAO;AACzE,yBAAyB,OAAO;AAChC;AACA,oCAAoC,uDAAM;AAC1C,oCAAoC,uDAAM;AAC1C;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;;;AC5CD;AAAA;AAAA;AAA0B;AACc;;AAEzB;AACf;;AAEA;AACA;AACA,2BAA2B,qDAAI;AAC/B;AACA,iBAAiB;AACjB,GAAG;AACH;AACA;;AAEA,UAAU,4DAAW;;AAErB;AACA;AACA;;AAEA;AACA;AACA;AACA,2CAA2C,gFAAgF;AAC3H,8BAA8B,8DAA8D;AAC5F,mCAAmC,uEAAuE;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iEAAiE;AACjE;AACA,yEAAyE;AACzE,sCAAsC;AACtC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACrDD;AAAe;AACf;AACA;AACA,CAAC;;;;;;;;;;;;;ACHD;AAAe;AACf,uBAAuB;AACvB,0BAA0B;AAC1B,wBAAwB;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,mEAAmE,gCAAgC,EAAE;AACrG;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,kCAAkC,EAAE;AACjE;AACA;AACA;;AAEA;AACA;AACA,4BAA4B,wDAAwD,EAAE;;AAEtF;AACA,CAAC;;;;;;;;;;;;;ACxED;AAAA;AAAkC;;AAEnB;AACf,gCAAgC,iDAAQ;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;AClBD;AAAA;AAAkC;;AAEnB;AACf,gCAAgC,iDAAQ;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACtBW;;AAEZ;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AChCY;;AAEZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;;;;;;;;;;;;;AChBA;AACA;AACA;AACA;;IAEqBA,G;;;AAEnB,eAAYC,MAAZ,EAAoBC,OAApB,EAA6B;AAAA;;AAC3B,QAAI,CAACD,MAAD,IAAW,CAACA,MAAM,CAACE,UAAvB,EAAmC;AACjC,YAAM,IAAIC,KAAJ,C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","file":"LightningMaps.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"LightningMaps\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"LightningMaps\"] = factory();\n\telse\n\t\troot[\"LightningMaps\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","\"use strict\"\n\nvar twoProduct = require(\"two-product\")\nvar robustSum = require(\"robust-sum\")\nvar robustScale = require(\"robust-scale\")\nvar robustSubtract = require(\"robust-subtract\")\n\nvar NUM_EXPAND = 5\n\nvar EPSILON     = 1.1102230246251565e-16\nvar ERRBOUND3   = (3.0 + 16.0 * EPSILON) * EPSILON\nvar ERRBOUND4   = (7.0 + 56.0 * EPSILON) * EPSILON\n\nfunction cofactor(m, c) {\n  var result = new Array(m.length-1)\n  for(var i=1; i<m.length; ++i) {\n    var r = result[i-1] = new Array(m.length-1)\n    for(var j=0,k=0; j<m.length; ++j) {\n      if(j === c) {\n        continue\n      }\n      r[k++] = m[i][j]\n    }\n  }\n  return result\n}\n\nfunction matrix(n) {\n  var result = new Array(n)\n  for(var i=0; i<n; ++i) {\n    result[i] = new Array(n)\n    for(var j=0; j<n; ++j) {\n      result[i][j] = [\"m\", j, \"[\", (n-i-1), \"]\"].join(\"\")\n    }\n  }\n  return result\n}\n\nfunction sign(n) {\n  if(n & 1) {\n    return \"-\"\n  }\n  return \"\"\n}\n\nfunction generateSum(expr) {\n  if(expr.length === 1) {\n    return expr[0]\n  } else if(expr.length === 2) {\n    return [\"sum(\", expr[0], \",\", expr[1], \")\"].join(\"\")\n  } else {\n    var m = expr.length>>1\n    return [\"sum(\", generateSum(expr.slice(0, m)), \",\", generateSum(expr.slice(m)), \")\"].join(\"\")\n  }\n}\n\nfunction determinant(m) {\n  if(m.length === 2) {\n    return [[\"sum(prod(\", m[0][0], \",\", m[1][1], \"),prod(-\", m[0][1], \",\", m[1][0], \"))\"].join(\"\")]\n  } else {\n    var expr = []\n    for(var i=0; i<m.length; ++i) {\n      expr.push([\"scale(\", generateSum(determinant(cofactor(m, i))), \",\", sign(i), m[0][i], \")\"].join(\"\"))\n    }\n    return expr\n  }\n}\n\nfunction orientation(n) {\n  var pos = []\n  var neg = []\n  var m = matrix(n)\n  var args = []\n  for(var i=0; i<n; ++i) {\n    if((i&1)===0) {\n      pos.push.apply(pos, determinant(cofactor(m, i)))\n    } else {\n      neg.push.apply(neg, determinant(cofactor(m, i)))\n    }\n    args.push(\"m\" + i)\n  }\n  var posExpr = generateSum(pos)\n  var negExpr = generateSum(neg)\n  var funcName = \"orientation\" + n + \"Exact\"\n  var code = [\"function \", funcName, \"(\", args.join(), \"){var p=\", posExpr, \",n=\", negExpr, \",d=sub(p,n);\\\nreturn d[d.length-1];};return \", funcName].join(\"\")\n  var proc = new Function(\"sum\", \"prod\", \"scale\", \"sub\", code)\n  return proc(robustSum, twoProduct, robustScale, robustSubtract)\n}\n\nvar orientation3Exact = orientation(3)\nvar orientation4Exact = orientation(4)\n\nvar CACHED = [\n  function orientation0() { return 0 },\n  function orientation1() { return 0 },\n  function orientation2(a, b) { \n    return b[0] - a[0]\n  },\n  function orientation3(a, b, c) {\n    var l = (a[1] - c[1]) * (b[0] - c[0])\n    var r = (a[0] - c[0]) * (b[1] - c[1])\n    var det = l - r\n    var s\n    if(l > 0) {\n      if(r <= 0) {\n        return det\n      } else {\n        s = l + r\n      }\n    } else if(l < 0) {\n      if(r >= 0) {\n        return det\n      } else {\n        s = -(l + r)\n      }\n    } else {\n      return det\n    }\n    var tol = ERRBOUND3 * s\n    if(det >= tol || det <= -tol) {\n      return det\n    }\n    return orientation3Exact(a, b, c)\n  },\n  function orientation4(a,b,c,d) {\n    var adx = a[0] - d[0]\n    var bdx = b[0] - d[0]\n    var cdx = c[0] - d[0]\n    var ady = a[1] - d[1]\n    var bdy = b[1] - d[1]\n    var cdy = c[1] - d[1]\n    var adz = a[2] - d[2]\n    var bdz = b[2] - d[2]\n    var cdz = c[2] - d[2]\n    var bdxcdy = bdx * cdy\n    var cdxbdy = cdx * bdy\n    var cdxady = cdx * ady\n    var adxcdy = adx * cdy\n    var adxbdy = adx * bdy\n    var bdxady = bdx * ady\n    var det = adz * (bdxcdy - cdxbdy) \n            + bdz * (cdxady - adxcdy)\n            + cdz * (adxbdy - bdxady)\n    var permanent = (Math.abs(bdxcdy) + Math.abs(cdxbdy)) * Math.abs(adz)\n                  + (Math.abs(cdxady) + Math.abs(adxcdy)) * Math.abs(bdz)\n                  + (Math.abs(adxbdy) + Math.abs(bdxady)) * Math.abs(cdz)\n    var tol = ERRBOUND4 * permanent\n    if ((det > tol) || (-det > tol)) {\n      return det\n    }\n    return orientation4Exact(a,b,c,d)\n  }\n]\n\nfunction slowOrient(args) {\n  var proc = CACHED[args.length]\n  if(!proc) {\n    proc = CACHED[args.length] = orientation(args.length)\n  }\n  return proc.apply(undefined, args)\n}\n\nfunction generateOrientationProc() {\n  while(CACHED.length <= NUM_EXPAND) {\n    CACHED.push(orientation(CACHED.length))\n  }\n  var args = []\n  var procArgs = [\"slow\"]\n  for(var i=0; i<=NUM_EXPAND; ++i) {\n    args.push(\"a\" + i)\n    procArgs.push(\"o\" + i)\n  }\n  var code = [\n    \"function getOrientation(\", args.join(), \"){switch(arguments.length){case 0:case 1:return 0;\"\n  ]\n  for(var i=2; i<=NUM_EXPAND; ++i) {\n    code.push(\"case \", i, \":return o\", i, \"(\", args.slice(0, i).join(), \");\")\n  }\n  code.push(\"}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation\")\n  procArgs.push(code.join(\"\"))\n\n  var proc = Function.apply(undefined, procArgs)\n  module.exports = proc.apply(undefined, [slowOrient].concat(CACHED))\n  for(var i=0; i<=NUM_EXPAND; ++i) {\n    module.exports[i] = CACHED[i]\n  }\n}\n\ngenerateOrientationProc()","module.exports = robustPointInPolygon\n\nvar orient = require('robust-orientation')\n\nfunction robustPointInPolygon(vs, point) {\n  var x = point[0]\n  var y = point[1]\n  var n = vs.length\n  var inside = 1\n  var lim = n\n  for(var i = 0, j = n-1; i<lim; j=i++) {\n    var a = vs[i]\n    var b = vs[j]\n    var yi = a[1]\n    var yj = b[1]\n    if(yj < yi) {\n      if(yj < y && y < yi) {\n        var s = orient(a, b, point)\n        if(s === 0) {\n          return 0\n        } else {\n          inside ^= (0 < s)|0\n        }\n      } else if(y === yi) {\n        var c = vs[(i+1)%n]\n        var yk = c[1]\n        if(yi < yk) {\n          var s = orient(a, b, point)\n          if(s === 0) {\n            return 0\n          } else {\n            inside ^= (0 < s)|0\n          }\n        }\n      }\n    } else if(yi < yj) {\n      if(yi < y && y < yj) {\n        var s = orient(a, b, point)\n        if(s === 0) {\n          return 0\n        } else {\n          inside ^= (s < 0)|0\n        }\n      } else if(y === yi) {\n        var c = vs[(i+1)%n]\n        var yk = c[1]\n        if(yk < yi) {\n          var s = orient(a, b, point)\n          if(s === 0) {\n            return 0\n          } else {\n            inside ^= (s < 0)|0\n          }\n        }\n      }\n    } else if(y === yi) {\n      var x0 = Math.min(a[0], b[0])\n      var x1 = Math.max(a[0], b[0])\n      if(i === 0) {\n        while(j>0) {\n          var k = (j+n-1)%n\n          var p = vs[k]\n          if(p[1] !== y) {\n            break\n          }\n          var px = p[0]\n          x0 = Math.min(x0, px)\n          x1 = Math.max(x1, px)\n          j = k\n        }\n        if(j === 0) {\n          if(x0 <= x && x <= x1) {\n            return 0\n          }\n          return 1 \n        }\n        lim = j+1\n      }\n      var y0 = vs[(j+n-1)%n][1]\n      while(i+1<lim) {\n        var p = vs[i+1]\n        if(p[1] !== y) {\n          break\n        }\n        var px = p[0]\n        x0 = Math.min(x0, px)\n        x1 = Math.max(x1, px)\n        i += 1\n      }\n      if(x0 <= x && x <= x1) {\n        return 0\n      }\n      var y1 = vs[(i+1)%n][1]\n      if(x < x0 && (y0 < y !== y1 < y)) {\n        inside ^= 1\n      }\n    }\n  }\n  return 2 * inside - 1\n}","\"use strict\"\n\nvar twoProduct = require(\"two-product\")\nvar twoSum = require(\"two-sum\")\n\nmodule.exports = scaleLinearExpansion\n\nfunction scaleLinearExpansion(e, scale) {\n  var n = e.length\n  if(n === 1) {\n    var ts = twoProduct(e[0], scale)\n    if(ts[0]) {\n      return ts\n    }\n    return [ ts[1] ]\n  }\n  var g = new Array(2 * n)\n  var q = [0.1, 0.1]\n  var t = [0.1, 0.1]\n  var count = 0\n  twoProduct(e[0], scale, q)\n  if(q[0]) {\n    g[count++] = q[0]\n  }\n  for(var i=1; i<n; ++i) {\n    twoProduct(e[i], scale, t)\n    var pq = q[1]\n    twoSum(pq, t[0], q)\n    if(q[0]) {\n      g[count++] = q[0]\n    }\n    var a = t[1]\n    var b = q[1]\n    var x = a + b\n    var bv = x - a\n    var y = b - bv\n    q[1] = x\n    if(y) {\n      g[count++] = y\n    }\n  }\n  if(q[1]) {\n    g[count++] = q[1]\n  }\n  if(count === 0) {\n    g[count++] = 0.0\n  }\n  g.length = count\n  return g\n}","\"use strict\"\n\nmodule.exports = robustSubtract\n\n//Easy case: Add two scalars\nfunction scalarScalar(a, b) {\n  var x = a + b\n  var bv = x - a\n  var av = x - bv\n  var br = b - bv\n  var ar = a - av\n  var y = ar + br\n  if(y) {\n    return [y, x]\n  }\n  return [x]\n}\n\nfunction robustSubtract(e, f) {\n  var ne = e.length|0\n  var nf = f.length|0\n  if(ne === 1 && nf === 1) {\n    return scalarScalar(e[0], -f[0])\n  }\n  var n = ne + nf\n  var g = new Array(n)\n  var count = 0\n  var eptr = 0\n  var fptr = 0\n  var abs = Math.abs\n  var ei = e[eptr]\n  var ea = abs(ei)\n  var fi = -f[fptr]\n  var fa = abs(fi)\n  var a, b\n  if(ea < fa) {\n    b = ei\n    eptr += 1\n    if(eptr < ne) {\n      ei = e[eptr]\n      ea = abs(ei)\n    }\n  } else {\n    b = fi\n    fptr += 1\n    if(fptr < nf) {\n      fi = -f[fptr]\n      fa = abs(fi)\n    }\n  }\n  if((eptr < ne && ea < fa) || (fptr >= nf)) {\n    a = ei\n    eptr += 1\n    if(eptr < ne) {\n      ei = e[eptr]\n      ea = abs(ei)\n    }\n  } else {\n    a = fi\n    fptr += 1\n    if(fptr < nf) {\n      fi = -f[fptr]\n      fa = abs(fi)\n    }\n  }\n  var x = a + b\n  var bv = x - a\n  var y = b - bv\n  var q0 = y\n  var q1 = x\n  var _x, _bv, _av, _br, _ar\n  while(eptr < ne && fptr < nf) {\n    if(ea < fa) {\n      a = ei\n      eptr += 1\n      if(eptr < ne) {\n        ei = e[eptr]\n        ea = abs(ei)\n      }\n    } else {\n      a = fi\n      fptr += 1\n      if(fptr < nf) {\n        fi = -f[fptr]\n        fa = abs(fi)\n      }\n    }\n    b = q0\n    x = a + b\n    bv = x - a\n    y = b - bv\n    if(y) {\n      g[count++] = y\n    }\n    _x = q1 + x\n    _bv = _x - q1\n    _av = _x - _bv\n    _br = x - _bv\n    _ar = q1 - _av\n    q0 = _ar + _br\n    q1 = _x\n  }\n  while(eptr < ne) {\n    a = ei\n    b = q0\n    x = a + b\n    bv = x - a\n    y = b - bv\n    if(y) {\n      g[count++] = y\n    }\n    _x = q1 + x\n    _bv = _x - q1\n    _av = _x - _bv\n    _br = x - _bv\n    _ar = q1 - _av\n    q0 = _ar + _br\n    q1 = _x\n    eptr += 1\n    if(eptr < ne) {\n      ei = e[eptr]\n    }\n  }\n  while(fptr < nf) {\n    a = fi\n    b = q0\n    x = a + b\n    bv = x - a\n    y = b - bv\n    if(y) {\n      g[count++] = y\n    } \n    _x = q1 + x\n    _bv = _x - q1\n    _av = _x - _bv\n    _br = x - _bv\n    _ar = q1 - _av\n    q0 = _ar + _br\n    q1 = _x\n    fptr += 1\n    if(fptr < nf) {\n      fi = -f[fptr]\n    }\n  }\n  if(q0) {\n    g[count++] = q0\n  }\n  if(q1) {\n    g[count++] = q1\n  }\n  if(!count) {\n    g[count++] = 0.0  \n  }\n  g.length = count\n  return g\n}","\"use strict\"\n\nmodule.exports = linearExpansionSum\n\n//Easy case: Add two scalars\nfunction scalarScalar(a, b) {\n  var x = a + b\n  var bv = x - a\n  var av = x - bv\n  var br = b - bv\n  var ar = a - av\n  var y = ar + br\n  if(y) {\n    return [y, x]\n  }\n  return [x]\n}\n\nfunction linearExpansionSum(e, f) {\n  var ne = e.length|0\n  var nf = f.length|0\n  if(ne === 1 && nf === 1) {\n    return scalarScalar(e[0], f[0])\n  }\n  var n = ne + nf\n  var g = new Array(n)\n  var count = 0\n  var eptr = 0\n  var fptr = 0\n  var abs = Math.abs\n  var ei = e[eptr]\n  var ea = abs(ei)\n  var fi = f[fptr]\n  var fa = abs(fi)\n  var a, b\n  if(ea < fa) {\n    b = ei\n    eptr += 1\n    if(eptr < ne) {\n      ei = e[eptr]\n      ea = abs(ei)\n    }\n  } else {\n    b = fi\n    fptr += 1\n    if(fptr < nf) {\n      fi = f[fptr]\n      fa = abs(fi)\n    }\n  }\n  if((eptr < ne && ea < fa) || (fptr >= nf)) {\n    a = ei\n    eptr += 1\n    if(eptr < ne) {\n      ei = e[eptr]\n      ea = abs(ei)\n    }\n  } else {\n    a = fi\n    fptr += 1\n    if(fptr < nf) {\n      fi = f[fptr]\n      fa = abs(fi)\n    }\n  }\n  var x = a + b\n  var bv = x - a\n  var y = b - bv\n  var q0 = y\n  var q1 = x\n  var _x, _bv, _av, _br, _ar\n  while(eptr < ne && fptr < nf) {\n    if(ea < fa) {\n      a = ei\n      eptr += 1\n      if(eptr < ne) {\n        ei = e[eptr]\n        ea = abs(ei)\n      }\n    } else {\n      a = fi\n      fptr += 1\n      if(fptr < nf) {\n        fi = f[fptr]\n        fa = abs(fi)\n      }\n    }\n    b = q0\n    x = a + b\n    bv = x - a\n    y = b - bv\n    if(y) {\n      g[count++] = y\n    }\n    _x = q1 + x\n    _bv = _x - q1\n    _av = _x - _bv\n    _br = x - _bv\n    _ar = q1 - _av\n    q0 = _ar + _br\n    q1 = _x\n  }\n  while(eptr < ne) {\n    a = ei\n    b = q0\n    x = a + b\n    bv = x - a\n    y = b - bv\n    if(y) {\n      g[count++] = y\n    }\n    _x = q1 + x\n    _bv = _x - q1\n    _av = _x - _bv\n    _br = x - _bv\n    _ar = q1 - _av\n    q0 = _ar + _br\n    q1 = _x\n    eptr += 1\n    if(eptr < ne) {\n      ei = e[eptr]\n    }\n  }\n  while(fptr < nf) {\n    a = fi\n    b = q0\n    x = a + b\n    bv = x - a\n    y = b - bv\n    if(y) {\n      g[count++] = y\n    } \n    _x = q1 + x\n    _bv = _x - q1\n    _av = _x - _bv\n    _br = x - _bv\n    _ar = q1 - _av\n    q0 = _ar + _br\n    q1 = _x\n    fptr += 1\n    if(fptr < nf) {\n      fi = f[fptr]\n    }\n  }\n  if(q0) {\n    g[count++] = q0\n  }\n  if(q1) {\n    g[count++] = q1\n  }\n  if(!count) {\n    g[count++] = 0.0  \n  }\n  g.length = count\n  return g\n}","export {default as bbox} from \"./src/bbox\";\nexport {default as feature} from \"./src/feature\";\nexport {default as mesh, meshArcs} from \"./src/mesh\";\nexport {default as merge, mergeArcs} from \"./src/merge\";\nexport {default as neighbors} from \"./src/neighbors\";\nexport {default as quantize} from \"./src/quantize\";\nexport {default as transform} from \"./src/transform\";\nexport {default as untransform} from \"./src/untransform\";\n","import transform from \"./transform\";\n\nexport default function(topology) {\n  var t = transform(topology.transform), key,\n      x0 = Infinity, y0 = x0, x1 = -x0, y1 = -x0;\n\n  function bboxPoint(p) {\n    p = t(p);\n    if (p[0] < x0) x0 = p[0];\n    if (p[0] > x1) x1 = p[0];\n    if (p[1] < y0) y0 = p[1];\n    if (p[1] > y1) y1 = p[1];\n  }\n\n  function bboxGeometry(o) {\n    switch (o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(bboxGeometry); break;\n      case \"Point\": bboxPoint(o.coordinates); break;\n      case \"MultiPoint\": o.coordinates.forEach(bboxPoint); break;\n    }\n  }\n\n  topology.arcs.forEach(function(arc) {\n    var i = -1, n = arc.length, p;\n    while (++i < n) {\n      p = t(arc[i], i);\n      if (p[0] < x0) x0 = p[0];\n      if (p[0] > x1) x1 = p[0];\n      if (p[1] < y0) y0 = p[1];\n      if (p[1] > y1) y1 = p[1];\n    }\n  });\n\n  for (key in topology.objects) {\n    bboxGeometry(topology.objects[key]);\n  }\n\n  return [x0, y0, x1, y1];\n}\n","export default function(a, x) {\n  var lo = 0, hi = a.length;\n  while (lo < hi) {\n    var mid = lo + hi >>> 1;\n    if (a[mid] < x) lo = mid + 1;\n    else hi = mid;\n  }\n  return lo;\n}\n","import reverse from \"./reverse\";\nimport transform from \"./transform\";\n\nexport default function(topology, o) {\n  return o.type === \"GeometryCollection\"\n      ? {type: \"FeatureCollection\", features: o.geometries.map(function(o) { return feature(topology, o); })}\n      : feature(topology, o);\n}\n\nexport function feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {type: \"Feature\", properties: properties, geometry: geometry}\n      : bbox == null ? {type: \"Feature\", id: id, properties: properties, geometry: geometry}\n      : {type: \"Feature\", id: id, bbox: bbox, properties: properties, geometry: geometry};\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type, coordinates;\n    switch (type) {\n      case \"GeometryCollection\": return {type: type, geometries: o.geometries.map(geometry)};\n      case \"Point\": coordinates = point(o.coordinates); break;\n      case \"MultiPoint\": coordinates = o.coordinates.map(point); break;\n      case \"LineString\": coordinates = line(o.arcs); break;\n      case \"MultiLineString\": coordinates = o.arcs.map(line); break;\n      case \"Polygon\": coordinates = polygon(o.arcs); break;\n      case \"MultiPolygon\": coordinates = o.arcs.map(polygon); break;\n      default: return null;\n    }\n    return {type: type, coordinates: coordinates};\n  }\n\n  return geometry(o);\n}\n","export default function(x) {\n  return x;\n}\n","import {object} from \"./feature\";\nimport stitch from \"./stitch\";\n\nfunction planarRingArea(ring) {\n  var i = -1, n = ring.length, a, b = ring[n - 1], area = 0;\n  while (++i < n) a = b, b = ring[i], area += a[0] * b[1] - a[1] * b[0];\n  return Math.abs(area); // Note: doubled area!\n}\n\nexport default function(topology) {\n  return object(topology, mergeArcs.apply(this, arguments));\n}\n\nexport function mergeArcs(topology, objects) {\n  var polygonsByArc = {},\n      polygons = [],\n      groups = [];\n\n  objects.forEach(geometry);\n\n  function geometry(o) {\n    switch (o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"Polygon\": extract(o.arcs); break;\n      case \"MultiPolygon\": o.arcs.forEach(extract); break;\n    }\n  }\n\n  function extract(polygon) {\n    polygon.forEach(function(ring) {\n      ring.forEach(function(arc) {\n        (polygonsByArc[arc = arc < 0 ? ~arc : arc] || (polygonsByArc[arc] = [])).push(polygon);\n      });\n    });\n    polygons.push(polygon);\n  }\n\n  function area(ring) {\n    return planarRingArea(object(topology, {type: \"Polygon\", arcs: [ring]}).coordinates[0]);\n  }\n\n  polygons.forEach(function(polygon) {\n    if (!polygon._) {\n      var group = [],\n          neighbors = [polygon];\n      polygon._ = 1;\n      groups.push(group);\n      while (polygon = neighbors.pop()) {\n        group.push(polygon);\n        polygon.forEach(function(ring) {\n          ring.forEach(function(arc) {\n            polygonsByArc[arc < 0 ? ~arc : arc].forEach(function(polygon) {\n              if (!polygon._) {\n                polygon._ = 1;\n                neighbors.push(polygon);\n              }\n            });\n          });\n        });\n      }\n    }\n  });\n\n  polygons.forEach(function(polygon) {\n    delete polygon._;\n  });\n\n  return {\n    type: \"MultiPolygon\",\n    arcs: groups.map(function(polygons) {\n      var arcs = [], n;\n\n      // Extract the exterior (unique) arcs.\n      polygons.forEach(function(polygon) {\n        polygon.forEach(function(ring) {\n          ring.forEach(function(arc) {\n            if (polygonsByArc[arc < 0 ? ~arc : arc].length < 2) {\n              arcs.push(arc);\n            }\n          });\n        });\n      });\n\n      // Stitch the arcs into one or more rings.\n      arcs = stitch(topology, arcs);\n\n      // If more than one ring is returned,\n      // at most one of these rings can be the exterior;\n      // choose the one with the greatest absolute area.\n      if ((n = arcs.length) > 1) {\n        for (var i = 1, k = area(arcs[0]), ki, t; i < n; ++i) {\n          if ((ki = area(arcs[i])) > k) {\n            t = arcs[0], arcs[0] = arcs[i], arcs[i] = t, k = ki;\n          }\n        }\n      }\n\n      return arcs;\n    })\n  };\n}\n","import {object} from \"./feature\";\nimport stitch from \"./stitch\";\n\nexport default function(topology) {\n  return object(topology, meshArcs.apply(this, arguments));\n}\n\nexport function meshArcs(topology, object, filter) {\n  var arcs, i, n;\n  if (arguments.length > 1) arcs = extractArcs(topology, object, filter);\n  else for (i = 0, arcs = new Array(n = topology.arcs.length); i < n; ++i) arcs[i] = i;\n  return {type: \"MultiLineString\", arcs: stitch(topology, arcs)};\n}\n\nfunction extractArcs(topology, object, filter) {\n  var arcs = [],\n      geomsByArc = [],\n      geom;\n\n  function extract0(i) {\n    var j = i < 0 ? ~i : i;\n    (geomsByArc[j] || (geomsByArc[j] = [])).push({i: i, g: geom});\n  }\n\n  function extract1(arcs) {\n    arcs.forEach(extract0);\n  }\n\n  function extract2(arcs) {\n    arcs.forEach(extract1);\n  }\n\n  function extract3(arcs) {\n    arcs.forEach(extract2);\n  }\n\n  function geometry(o) {\n    switch (geom = o, o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"LineString\": extract1(o.arcs); break;\n      case \"MultiLineString\": case \"Polygon\": extract2(o.arcs); break;\n      case \"MultiPolygon\": extract3(o.arcs); break;\n    }\n  }\n\n  geometry(object);\n\n  geomsByArc.forEach(filter == null\n      ? function(geoms) { arcs.push(geoms[0].i); }\n      : function(geoms) { if (filter(geoms[0].g, geoms[geoms.length - 1].g)) arcs.push(geoms[0].i); });\n\n  return arcs;\n}\n","import bisect from \"./bisect\";\n\nexport default function(objects) {\n  var indexesByArc = {}, // arc index -> array of object indexes\n      neighbors = objects.map(function() { return []; });\n\n  function line(arcs, i) {\n    arcs.forEach(function(a) {\n      if (a < 0) a = ~a;\n      var o = indexesByArc[a];\n      if (o) o.push(i);\n      else indexesByArc[a] = [i];\n    });\n  }\n\n  function polygon(arcs, i) {\n    arcs.forEach(function(arc) { line(arc, i); });\n  }\n\n  function geometry(o, i) {\n    if (o.type === \"GeometryCollection\") o.geometries.forEach(function(o) { geometry(o, i); });\n    else if (o.type in geometryType) geometryType[o.type](o.arcs, i);\n  }\n\n  var geometryType = {\n    LineString: line,\n    MultiLineString: polygon,\n    Polygon: polygon,\n    MultiPolygon: function(arcs, i) { arcs.forEach(function(arc) { polygon(arc, i); }); }\n  };\n\n  objects.forEach(geometry);\n\n  for (var i in indexesByArc) {\n    for (var indexes = indexesByArc[i], m = indexes.length, j = 0; j < m; ++j) {\n      for (var k = j + 1; k < m; ++k) {\n        var ij = indexes[j], ik = indexes[k], n;\n        if ((n = neighbors[ij])[i = bisect(n, ik)] !== ik) n.splice(i, 0, ik);\n        if ((n = neighbors[ik])[i = bisect(n, ij)] !== ij) n.splice(i, 0, ij);\n      }\n    }\n  }\n\n  return neighbors;\n}\n","import bbox from \"./bbox\";\nimport untransform from \"./untransform\";\n\nexport default function(topology, transform) {\n  if (topology.transform) throw new Error(\"already quantized\");\n\n  if (!transform || !transform.scale) {\n    if (!((n = Math.floor(transform)) >= 2)) throw new Error(\"n must be ≥2\");\n    box = topology.bbox || bbox(topology);\n    var x0 = box[0], y0 = box[1], x1 = box[2], y1 = box[3], n;\n    transform = {scale: [x1 - x0 ? (x1 - x0) / (n - 1) : 1, y1 - y0 ? (y1 - y0) / (n - 1) : 1], translate: [x0, y0]};\n  } else {\n    box = topology.bbox;\n  }\n\n  var t = untransform(transform), box, key, inputs = topology.objects, outputs = {};\n\n  function quantizePoint(point) {\n    return t(point);\n  }\n\n  function quantizeGeometry(input) {\n    var output;\n    switch (input.type) {\n      case \"GeometryCollection\": output = {type: \"GeometryCollection\", geometries: input.geometries.map(quantizeGeometry)}; break;\n      case \"Point\": output = {type: \"Point\", coordinates: quantizePoint(input.coordinates)}; break;\n      case \"MultiPoint\": output = {type: \"MultiPoint\", coordinates: input.coordinates.map(quantizePoint)}; break;\n      default: return input;\n    }\n    if (input.id != null) output.id = input.id;\n    if (input.bbox != null) output.bbox = input.bbox;\n    if (input.properties != null) output.properties = input.properties;\n    return output;\n  }\n\n  function quantizeArc(input) {\n    var i = 0, j = 1, n = input.length, p, output = new Array(n); // pessimistic\n    output[0] = t(input[0], 0);\n    while (++i < n) if ((p = t(input[i], i))[0] || p[1]) output[j++] = p; // non-coincident points\n    if (j === 1) output[j++] = [0, 0]; // an arc must have at least two points\n    output.length = j;\n    return output;\n  }\n\n  for (key in inputs) outputs[key] = quantizeGeometry(inputs[key]);\n\n  return {\n    type: \"Topology\",\n    bbox: box,\n    transform: transform,\n    objects: outputs,\n    arcs: topology.arcs.map(quantizeArc)\n  };\n}\n","export default function(array, n) {\n  var t, j = array.length, i = j - n;\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n}\n","export default function(topology, arcs) {\n  var stitchedArcs = {},\n      fragmentByStart = {},\n      fragmentByEnd = {},\n      fragments = [],\n      emptyIndex = -1;\n\n  // Stitch empty arcs first, since they may be subsumed by other arcs.\n  arcs.forEach(function(i, j) {\n    var arc = topology.arcs[i < 0 ? ~i : i], t;\n    if (arc.length < 3 && !arc[1][0] && !arc[1][1]) {\n      t = arcs[++emptyIndex], arcs[emptyIndex] = i, arcs[j] = t;\n    }\n  });\n\n  arcs.forEach(function(i) {\n    var e = ends(i),\n        start = e[0],\n        end = e[1],\n        f, g;\n\n    if (f = fragmentByEnd[start]) {\n      delete fragmentByEnd[f.end];\n      f.push(i);\n      f.end = end;\n      if (g = fragmentByStart[end]) {\n        delete fragmentByStart[g.start];\n        var fg = g === f ? f : f.concat(g);\n        fragmentByStart[fg.start = f.start] = fragmentByEnd[fg.end = g.end] = fg;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else if (f = fragmentByStart[end]) {\n      delete fragmentByStart[f.start];\n      f.unshift(i);\n      f.start = start;\n      if (g = fragmentByEnd[start]) {\n        delete fragmentByEnd[g.end];\n        var gf = g === f ? f : g.concat(f);\n        fragmentByStart[gf.start = g.start] = fragmentByEnd[gf.end = f.end] = gf;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else {\n      f = [i];\n      fragmentByStart[f.start = start] = fragmentByEnd[f.end = end] = f;\n    }\n  });\n\n  function ends(i) {\n    var arc = topology.arcs[i < 0 ? ~i : i], p0 = arc[0], p1;\n    if (topology.transform) p1 = [0, 0], arc.forEach(function(dp) { p1[0] += dp[0], p1[1] += dp[1]; });\n    else p1 = arc[arc.length - 1];\n    return i < 0 ? [p1, p0] : [p0, p1];\n  }\n\n  function flush(fragmentByEnd, fragmentByStart) {\n    for (var k in fragmentByEnd) {\n      var f = fragmentByEnd[k];\n      delete fragmentByStart[f.start];\n      delete f.start;\n      delete f.end;\n      f.forEach(function(i) { stitchedArcs[i < 0 ? ~i : i] = 1; });\n      fragments.push(f);\n    }\n  }\n\n  flush(fragmentByEnd, fragmentByStart);\n  flush(fragmentByStart, fragmentByEnd);\n  arcs.forEach(function(i) { if (!stitchedArcs[i < 0 ? ~i : i]) fragments.push([i]); });\n\n  return fragments;\n}\n","import identity from \"./identity\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2, n = input.length, output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n","import identity from \"./identity\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2,\n        n = input.length,\n        output = new Array(n),\n        x1 = Math.round((input[0] - dx) / kx),\n        y1 = Math.round((input[1] - dy) / ky);\n    output[0] = x1 - x0, x0 = x1;\n    output[1] = y1 - y0, y0 = y1;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n","\"use strict\"\n\nmodule.exports = twoProduct\n\nvar SPLITTER = +(Math.pow(2, 27) + 1.0)\n\nfunction twoProduct(a, b, result) {\n  var x = a * b\n\n  var c = SPLITTER * a\n  var abig = c - a\n  var ahi = c - abig\n  var alo = a - ahi\n\n  var d = SPLITTER * b\n  var bbig = d - b\n  var bhi = d - bbig\n  var blo = b - bhi\n\n  var err1 = x - (ahi * bhi)\n  var err2 = err1 - (alo * bhi)\n  var err3 = err2 - (ahi * blo)\n\n  var y = alo * blo - err3\n\n  if(result) {\n    result[0] = y\n    result[1] = x\n    return result\n  }\n\n  return [ y, x ]\n}","\"use strict\"\n\nmodule.exports = fastTwoSum\n\nfunction fastTwoSum(a, b, result) {\n\tvar x = a + b\n\tvar bv = x - a\n\tvar av = x - bv\n\tvar br = b - bv\n\tvar ar = a - av\n\tif(result) {\n\t\tresult[0] = ar + br\n\t\tresult[1] = x\n\t\treturn result\n\t}\n\treturn [ar+br, x]\n}","import TileConversion from './TileConversion';\nimport TileLayer from './TileLayer';\nimport MapState from './MapState';\nimport { defaultMapOptions } from './defaultOptions';\n\nexport default class Map {\n\n  constructor(canvas, options) {\n    if (!canvas || !canvas.getContext) {\n      throw new Error('Could not get canvas context');\n    }\n\n    this.canvas = canvas;\n    this.context = this.canvas.getContext('2d');\n\n    this.options = Object.assign({}, defaultMapOptions, options);\n\n    this.initializeState();\n    this.attachEvents();\n\n    this.lastDrawState = null;\n\n    /**\n     * Events\n     */\n    this.onMarkerClicked = null;\n    this.onMarkerHover = null;\n    this.onPolygonHover = null;\n\n    this.draw = this.draw.bind(this);\n    window.requestAnimationFrame(this.draw);\n  }\n\n  initializeState() {\n    this.state = {\n      canvasDimensions: [this.canvas.width, this.canvas.height],\n      tiles: {},\n      moveOffset: [0, 0],\n      targetMoveOffset: [0, 0],\n      targetMoveOffsetIsCoord: false,\n      moveAnimationStart: null,\n      dragStartPosition: null,\n      lastZoomEventActionTime: null,\n      startZoom: this.options.zoom,\n      targetZoom: this.options.zoom,\n      zoomAnimationStart: null,\n      scale: 1,\n      lastMouseMoveEvent: null,\n      mouseVelocities: [],\n      markers: [],\n      polygons: [],\n      tileLayers: [\n        new TileLayer(this)\n      ],\n      mousePosition: { x: 0, y: 0}\n    };\n  }\n\n  getZoom() {\n    return this.options.zoom;\n  }\n\n  setZoom(zoom) {\n    if (this.zoomValueIsValid(zoom) && this.isReadyForZoomEvent()) {\n      zoom = Math.round(zoom);\n\n      this.state.tileLayers.push(new TileLayer(this, zoom));\n      // this.state.tileLayers[0].tilesZoomLevel = this.options.zoom;\n\n      this.state.lastZoomEventActionTime = window.performance.now();\n      this.state.zoomAnimationStart = window.performance.now();\n      this.state.targetZoom = zoom;\n      this.state.startZoom = this.options.zoom;\n    }\n  }\n\n  setCenter(coord) {\n    if (!Array.isArray(coord) || coord.length !== 2) {\n      throw new Error('Please provide a valid array with a lat/lon');\n    }\n\n    coord = coord.map(coord => parseFloat(coord));\n\n    this.state.moveAnimationStart = window.performance.now();\n    this.state.targetMoveOffset = coord;\n    this.state.targetMoveOffsetIsCoord = true;\n  }\n\n  setTargetMoveOffset(x, y, animated = true) {\n    if (animated) {\n      this.state.moveAnimationStart = window.performance.now();\n\n      this.state.targetMoveOffset = TileConversion.pixelToLatLon(\n        [x, y],\n        this.options.center,\n        this.options.zoom,\n        this.options.tileSize\n      );\n\n      this.state.targetMoveOffsetIsCoord = true;\n    } else {\n      this.state.targetMoveOffset = [x, y];\n      this.state.targetMoveOffsetIsCoord = false;\n\n      this.state.moveOffset = this.state.targetMoveOffset;\n    }\n  }\n\n  zoomValueIsValid(zoom) {\n    return zoom >= 1 && zoom <= 18;\n  }\n\n  isReadyForZoomEvent() {\n    if (!this.state.lastZoomEventActionTime) {\n      return true;\n    }\n\n    const now = window.performance.now();\n    const milliSecondsSinceLastEvent = now - this.state.lastZoomEventActionTime;\n\n    return milliSecondsSinceLastEvent > this.options.debounceIntervalMs;\n  }\n\n  calculateVelocity(position1, position2, time1, time2) {\n    return ((position1 - position2) / (time1 - time2)) * 1000;\n  }\n\n  attachEvents() {\n    this.canvas.addEventListener('wheel', event => {\n      event.preventDefault();\n\n      if (event.deltaY > 5) {\n        this.setZoom(this.options.zoom - 1);\n      } else if (event.deltaY < -5) {\n        this.setZoom(this.options.zoom + 1);\n      }\n    });\n\n    this.canvas.addEventListener('dblclick', event => {\n      event.preventDefault();\n\n      const canvasCenter = this.getCanvasCenter();\n\n      this.setTargetMoveOffset(\n        -(event.clientX - canvasCenter[0]),\n        -(event.clientY - canvasCenter[1])\n      );\n\n      this.setZoom(this.options.zoom + 1);\n    });\n\n    this.canvas.addEventListener('mousedown', event => {\n      event.preventDefault();\n\n      if (!this.handleMouseEventInteraction(event, 'mousedown')) {\n        this.state.mouseVelocities = [];\n\n        this.state.dragStartPosition = [\n          event.clientX - this.state.moveOffset[0],\n          event.clientY - this.state.moveOffset[1]\n        ];\n      }\n    });\n\n    this.canvas.addEventListener('mouseup', event => {\n      event.preventDefault();\n\n      if (!this.state.dragStartPosition) {\n        this.handleMouseEventInteraction(event, 'mouseup');\n      } else {\n        const x = -(this.state.dragStartPosition[0] - event.clientX);\n        const y = -(this.state.dragStartPosition[1] - event.clientY);\n\n        if (this.state.moveOffset[0] !== 0 || this.state.moveOffset[1] !== 0) {\n          const now = window.performance.now();\n          const timingThreshold = now - this.options.throwTimingThresholdMs;\n\n          const thresholdsToConsider = this.state.mouseVelocities\n            .filter(threshold => threshold[0] > timingThreshold)\n            .map(threshold => threshold[1]);\n\n          const velocitySum = thresholdsToConsider.reduce(\n            (accumulator, velocity) => accumulator + velocity,\n            0\n          );\n\n          const averageVelocity = velocitySum / thresholdsToConsider.length;\n\n          if (averageVelocity >= this.options.throwVelocityThreshold) {\n            let multiplier = averageVelocity / this.options.throwVelocityThreshold\n              * this.options.panAccelerationMultiplier;\n\n            multiplier = Math.min(multiplier, this.options.maxPanAcceleration);\n\n            this.setTargetMoveOffset(\n              x * multiplier,\n              y * multiplier\n            );\n          } else {\n            this.updateCenter();\n          }\n        }\n\n        this.state.dragStartPosition = null;\n      }\n    });\n\n    this.canvas.addEventListener('mousemove', event => {\n      event.preventDefault();\n\n      if (this.state.dragStartPosition) {\n        const x = -(this.state.dragStartPosition[0] - event.clientX);\n        const y = -(this.state.dragStartPosition[1] - event.clientY);\n\n        const now = window.performance.now();\n\n        const vx = this.calculateVelocity(this.state.moveOffset[0], x, now, this.state.lastMouseMoveEvent);\n        const vy = this.calculateVelocity(this.state.moveOffset[1], y, now, this.state.lastMouseMoveEvent);\n\n        const velocity = Math.round(Math.sqrt((vx * vx) + (vy * vy)));\n\n        this.state.mouseVelocities.push([now, velocity]);\n\n        this.setTargetMoveOffset(x, y, false);\n        this.state.lastMouseMoveEvent = window.performance.now();\n      } else {\n        this.handleMouseEventInteraction(event, 'mousemove');\n      }\n\n      return false;\n    });\n  }\n\n  easeOutQuad(time) {\n    return time * (2 - time);\n  }\n\n  updateMoveOffset() {\n    const targetMoveOffsetChanged = this.state.moveOffset !== this.state.targetMoveOffset;\n\n    if (targetMoveOffsetChanged) {\n      const timestamp = window.performance.now();\n\n      const progress = Math.max(timestamp - this.state.moveAnimationStart, 0);\n      const percentage = this.easeOutQuad(progress / this.options.animationDurationMs);\n\n      let targetMoveOffset = this.state.targetMoveOffset;\n\n      if (this.state.targetMoveOffsetIsCoord) {\n        targetMoveOffset = TileConversion.latLonToPixel(\n          this.state.targetMoveOffset,\n          this.options.center,\n          this.options.zoom,\n          this.options.tileSize\n        );\n      }\n\n      if (percentage >= 0.99) {\n        this.state.moveOffset = targetMoveOffset;\n      } else {\n        this.state.moveOffset = [\n          this.state.moveOffset[0] + (targetMoveOffset[0] - this.state.moveOffset[0]) * percentage,\n          this.state.moveOffset[1] + (targetMoveOffset[1] - this.state.moveOffset[1]) * percentage\n        ];\n      }\n\n      const targetHasBeenReached = this.state.moveOffset === targetMoveOffset;\n\n      if (targetHasBeenReached) {\n        this.updateCenter();\n      }\n    }\n  }\n\n  updateCenter() {\n    const latLon = TileConversion.pixelToLatLon(\n      this.state.moveOffset,\n      this.options.center,\n      this.options.zoom,\n      this.options.tileSize\n    );\n\n    this.setTargetMoveOffset(0, 0, false);\n    this.options.center = latLon;\n  }\n\n  updateZoom() {\n    if (this.options.zoom !== this.state.targetZoom) {\n      const progress = Math.max(window.performance.now() - this.state.zoomAnimationStart, 0);\n      const percentage = this.easeOutQuad(progress / this.options.animationDurationMs);\n\n      let differenceFromTarget = Math.abs(this.state.targetZoom - this.state.startZoom);\n\n      if (this.state.targetZoom <= this.state.startZoom) {\n        differenceFromTarget *= -1;\n      }\n\n      const newZoomDiff = differenceFromTarget * percentage;\n      const remainingTime = this.options.animationDurationMs - progress;\n\n      this.options.zoom = remainingTime <= 5\n        ? this.state.targetZoom\n        : (this.state.startZoom + newZoomDiff);\n\n      const roundedZoom = Math.round(this.options.zoom);\n      const diff = this.options.zoom - roundedZoom;\n\n      this.state.scale = Math.pow(2, diff);\n\n      if (this.options.zoom === this.state.targetZoom) {\n        // Mark old tile layer for deletion\n        this.state.tileLayers.shift();\n        this.state.tileLayers[0].tilesZoomLevel = null;\n\n        // this.state.tileLayers[this.state.tileLayers.length - 1].shouldBeDeleted = true;\n      }\n    } else {\n      this.state.scale = 1;\n    }\n  }\n\n  garbageCollect() {\n    const allTiles = Object.values(this.state.tiles);\n\n    if (allTiles.length > this.maxTilesToKeep()) {\n      const tileExpirationCutOff = new Date().getTime() - 5000;\n\n      const tilesToConsider = allTiles\n        .filter(tile => tile.lastRequested < tileExpirationCutOff)\n        .sort((a, b) => ~~(a.lastRequested < b.lastRequested));\n\n      const tilesToDeleteCount = this.maxTilesToKeep() - (allTiles.length - tilesToConsider.length);\n\n      tilesToConsider\n        .splice(tilesToConsider.length - tilesToDeleteCount)\n        .forEach(tile => {\n          tile.src = '';\n          delete this.state.tiles[tile.tileId];\n        });\n    }\n  }\n\n  maxTilesToKeep() {\n    return 1000;\n  }\n\n  shouldRedraw() {\n    const drawState = JSON.stringify([this.state, this.options]);\n\n    if (this.lastDrawState !== drawState) {\n      this.lastDrawState = drawState;\n\n      return true;\n    }\n\n    return false;\n  }\n\n  draw() {\n    this.updateMoveOffset();\n    this.updateZoom();\n    this.state.tileLayers.forEach(tileLayer => tileLayer.calculateGrid());\n    this.garbageCollect();\n\n    if (this.shouldRedraw()) {\n      // Delete tile layers that are ready for deletion and mostly loaded\n      /*\n      this.state.tileLayers = this.state.tileLayers\n        .filter(tileLayer => !(tileLayer.shouldBeDeleted && tileLayer.loadedPercentage() >= 0.9));\n\n      console.log(this.state.tileLayers.length);\n      */\n\n      if (this.state.tileLayers.length > 0) {\n        // Only draw the top layer\n        this.state.tileLayers[0].drawTiles(this.state.scale);\n      }\n\n      this.renderPolygons();\n      this.renderMarkers();\n      this.renderControls();\n      this.renderAttribution();\n    }\n\n    window.requestAnimationFrame(this.draw);\n  }\n\n  getMapBounds() {\n    const canvasCenter = this.getCanvasCenter();\n\n    const nw = TileConversion.pixelToLatLon(\n      [canvasCenter[0], canvasCenter[1]],\n      this.options.center,\n      this.options.zoom,\n      this.options.tileSize\n    );\n\n    const se = TileConversion.pixelToLatLon(\n      [-canvasCenter[0], -canvasCenter[1]],\n      this.options.center,\n      this.options.zoom,\n      this.options.tileSize\n    );\n\n    return {\n      nw, se\n    };\n  }\n\n  getVisibleMarkers() {\n    const bounds = this.getMapBounds();\n\n    return this.state.markers.filter(marker => {\n      return marker.coords[0] <= bounds.nw[0] && marker.coords[0] >= bounds.se[0]\n        && marker.coords[1] >= bounds.nw[1] && marker.coords[1] <= bounds.se[1];\n    });\n  }\n\n  getCanvasCenter() {\n    return [\n      this.state.canvasDimensions[0] / 2,\n      this.state.canvasDimensions[1] / 2\n    ];\n  }\n\n  renderMarkers() {\n    const visibleMarkers = this.getVisibleMarkers();\n    const canvasCenter = this.getCanvasCenter();\n\n    visibleMarkers.map(marker => {\n      const position = TileConversion.latLonToPixel(\n        marker.coords,\n        this.options.center,\n        this.options.zoom,\n        this.options.tileSize\n      );\n\n      marker.render(this.context, [\n        canvasCenter[0] - position[0] + this.state.moveOffset[0],\n        canvasCenter[1] - position[1] + this.state.moveOffset[1]\n      ]);\n    });\n  }\n\n  renderPolygons() {\n    const mapState = new MapState(\n      this.options.center,\n      this.options.zoom,\n      this.state.targetZoom,\n      this.options.tileSize,\n      this.state.canvasDimensions,\n      this.state.moveOffset\n    );\n\n    this.state.polygons.map(polygon => {\n      polygon.render(this.context, mapState);\n      polygon.handleMouseOver(this.context, mapState, this.state.mousePosition);\n    });\n  }\n\n  handleMouseEventInteraction(event, name) {\n    this.state.mousePosition = {\n      x: event.clientX,\n      y: event.clientY\n    };\n\n    const controlObjects = this.getControlObjects().filter(item => this.isMouseOverObject(item.bounds));\n\n    const markers = controlObjects.length <= 0 && (this.onMarkerClicked || this.onMarkerHover)\n      ? this.getMarkersBounds().filter(item => this.isMouseOverObject(item.bounds))\n      : [];\n\n    if (name === 'mouseup') {\n      if (controlObjects.length > 0) {\n        const controlObject = controlObjects[0];\n\n        this.setZoom(controlObject.label === '+'\n          ? this.options.zoom + 1\n          : this.options.zoom - 1);\n      }\n\n      if (this.onMarkerClicked) {\n        markers.map(item => this.onMarkerClicked(item.marker));\n      }\n    } else {\n      if (this.onMarkerHover) {\n        markers.map(item => this.onMarkerHover(item.marker));\n      }\n    }\n\n    let anyItemIsHover = controlObjects.length > 0 || markers.length > 0;\n\n    let polygons = [];\n\n    if (!anyItemIsHover) {\n      const mapState = new MapState(\n        this.options.center,\n        this.options.zoom,\n        this.state.targetZoom,\n        this.options.tileSize,\n        this.state.canvasDimensions,\n        this.state.moveOffset\n      );\n\n      polygons = this.state.polygons.map(polygon =>\n        polygon.handleMouseOver(this.context, mapState, this.state.mousePosition)\n      ).filter(polygon => polygon.length > 0);\n    }\n\n    if (polygons.length > 0) {\n      anyItemIsHover = true;\n\n      if (this.onPolygonHover) {\n        polygons.map(polygon => polygon.map(item => this.onPolygonHover(item)));\n      }\n    }\n\n    this.canvas.style.cursor = anyItemIsHover\n      ? 'pointer'\n      : 'grab';\n\n    return anyItemIsHover;\n  }\n\n  getControlObjects() {\n    const margin = 4;\n    const size = 30;\n\n    return [\n      {\n        bounds: {\n          x: margin,\n          y: margin,\n          width: size,\n          height: size\n        },\n        label: '+'\n      },\n      {\n        bounds: {\n          x: margin,\n          y: margin + size + margin,\n          width: size,\n          height: size\n        },\n        label: '-'\n      }\n    ];\n  }\n\n  getMarkersBounds() {\n    const visibleMarkers = this.getVisibleMarkers();\n    const canvasCenter = this.getCanvasCenter();\n\n    return visibleMarkers.map(marker => {\n      const position = TileConversion.latLonToPixel(\n        marker.coords,\n        this.options.center,\n        this.options.zoom,\n        this.options.tileSize\n      );\n\n      const markerSize = marker.size;\n      const markerOffset = marker.offset;\n\n      return {\n        bounds: {\n          x: canvasCenter[0] - position[0] + this.state.moveOffset[0] - (markerSize[0] / 2) + markerOffset[0],\n          y: canvasCenter[1] - position[1] + this.state.moveOffset[1] - (markerSize[1] / 2) + markerOffset[1],\n          width: markerSize[0],\n          height: markerSize[1]\n        },\n        marker\n      };\n    });\n  }\n\n  renderControls() {\n    this.getControlObjects().map(item => this.renderControl(item.bounds, item.label));\n  }\n\n  renderControl(bounds, label) {\n    const radius = 10;\n\n    // Background\n    this.context.fillStyle = this.isMouseOverObject(bounds)\n      ? 'rgba(100, 100, 100, 0.7)'\n      : 'rgba(0, 0, 0, 0.7)';\n\n    this.roundedRectangle(bounds.x, bounds.y, bounds.width, bounds.height, radius);\n\n    // Text\n    this.context.font = 'bold 25px courier';\n    this.context.textAlign = 'center';\n    this.context.textBaseline = 'middle';\n    this.context.fillStyle = 'rgba(255, 255, 255)';\n\n    this.context.fillText(\n      label,\n      bounds.x + (bounds.width / 2),\n      bounds.y + (bounds.height / 2)\n    );\n  }\n\n  isMouseOverObject(bounds) {\n    return this.state.mousePosition.x >= bounds.x\n      && this.state.mousePosition.x <= bounds.x + bounds.width\n      && this.state.mousePosition.y >= bounds.y\n      && this.state.mousePosition.y <= bounds.y + bounds.height;\n  }\n\n  renderAttribution() {\n    const margin = 4;\n\n    this.context.font = 'bold 12px sans-serif';\n    this.context.textAlign = 'left';\n    this.context.textBaseline = 'alphabetic';\n\n    const textBounds = this.context.measureText(this.options.attribution);\n\n    const x = this.state.canvasDimensions[0] - textBounds.width - margin;\n    const y = this.state.canvasDimensions[1] - 2 - margin;\n\n    this.context.fillStyle = 'rgba(255, 255, 255, 0.7)';\n    this.roundedRectangle(x - margin, y - 15, textBounds.width + 80, 80);\n\n    this.context.fillStyle = 'rgba(0, 0, 0, 0.7)';\n    this.context.fillText(this.options.attribution, x, y);\n  }\n\n  roundedRectangle(x, y, width, height, radius = 5) {\n    this.context.beginPath();\n    this.context.moveTo(x + radius, y);\n    this.context.lineTo(x + width - radius, y);\n    this.context.quadraticCurveTo(x + width, y, x + width, y + radius);\n    this.context.lineTo(x + width, y + height - radius);\n    this.context.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n    this.context.lineTo(x + radius, y + height);\n    this.context.quadraticCurveTo(x, y + height, x, y + height - radius);\n    this.context.lineTo(x, y + radius);\n    this.context.quadraticCurveTo(x, y, x + radius, y);\n    this.context.closePath();\n\n    this.context.fill();\n  }\n\n  addMarker(marker) {\n    this.state.markers.push(marker);\n  }\n\n  addMarkers(markers) {\n    markers.map(marker => this.addMarker(marker));\n  }\n\n  setMarkers(markers) {\n    this.state.markers = markers;\n  }\n\n  addPolygon(polygon) {\n    this.state.polygons.push(polygon);\n  }\n\n  setPolygons(polygons) {\n    this.state.polygons = polygons;\n  }\n\n}\n","export default class MapState {\n  constructor(center, zoom, targetZoom, tileSize, canvasDimensions, moveOffset) {\n    this._center = center;\n    this._zoom = zoom;\n    this._targetZoom = targetZoom;\n    this._tileSize = tileSize;\n    this._canvasDimensions = canvasDimensions;\n    this._moveOffset = moveOffset;\n  }\n\n  get center() {\n    return this._center;\n  }\n\n  get zoom() {\n    return this._zoom;\n  }\n\n  get targetZoom() {\n    return this._targetZoom;\n  }\n\n  get tileSize() {\n    return this._tileSize;\n  }\n\n  get canvasDimensions() {\n    return this._canvasDimensions;\n  }\n\n  get moveOffset() {\n    return this._moveOffset;\n  }\n}\n","import { defaultMarkerOptions } from './defaultOptions';\n\nexport default class Marker {\n  constructor(coords, options = {}) {\n    this._coords = coords;\n    this._options = Object.assign({}, defaultMarkerOptions, options);\n  }\n\n  get coords() {\n    return this._coords;\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  get size() {\n    switch (this.options.type) {\n      case 'marker':\n        return [\n          17.698069,\n          24.786272\n        ];\n\n      case 'circle':\n        return [10, 10];\n\n      case 'donut':\n        return [14, 14];\n\n      case 'image':\n        return this.options.image\n          ? [this.options.image.width, this.options.image.height]\n          : null;\n\n      default:\n        return null;\n    }\n  }\n\n  get offset() {\n    if (this.options.type === 'marker') {\n      return [\n        0,\n        -(this.size[1] / 2)\n      ];\n    }\n\n    return [0, 0];\n  }\n\n  render(context, position) {\n    let renderFunction = null;\n\n    switch (this.options.type) {\n      case 'marker':\n        renderFunction = this.renderMarker;\n        break;\n\n      case 'circle':\n        renderFunction = this.renderCircle;\n        break;\n\n      case 'donut':\n        renderFunction = this.renderDonut;\n        break;\n\n      case 'image':\n        renderFunction = this.renderImage;\n        break;\n    }\n\n    if (!renderFunction) {\n      throw new Error(`Unsupported marker type: \"${this.options.type}\"`);\n    } else {\n      context.fillStyle = this.options.color;\n      context.strokeStyle = this.options.color;\n\n      renderFunction = renderFunction.bind(this);\n      renderFunction(context, position);\n    }\n  }\n\n  renderCircle(context, position) {\n    context.save();\n    context.beginPath();\n    context.arc(position[0], position[1], this.size[0] / 2, 0, 2 * Math.PI);\n    context.fill();\n    context.restore();\n  }\n\n  renderDonut(context, position) {\n    context.save();\n    context.beginPath();\n    context.lineWidth = 5;\n    context.arc(position[0], position[1], this.size[0] / 2, 0, 2 * Math.PI);\n    context.stroke();\n    context.restore();\n  }\n\n  renderMarker(context, position) {\n    const size = this.size;\n\n    const x = position[0] - size[0] / 2;\n    const y = position[1] - size[1];\n\n    context.save();\n    context.transform(0.184386, 0.000000, 0.000000, 0.184386, 0.551658 + x, 4.095760 + y);\n    context.beginPath();\n    context.lineWidth = 1.667195;\n    context.moveTo(45.000000, -22.212949);\n    context.bezierCurveTo(18.494941, -22.212949, -2.991863, -0.726145, -2.991863, 25.778914);\n    context.bezierCurveTo(-2.991863, 52.282306, 45.000000, 112.212950, 45.000000, 112.212950);\n    context.bezierCurveTo(45.000000, 112.212950, 92.991863, 52.282306, 92.991863, 25.777247);\n    context.bezierCurveTo(92.991863, -0.726145, 71.505059, -22.212949, 45.000000, -22.212949);\n    context.moveTo(45.000000, 43.827962);\n    context.bezierCurveTo(33.553042, 43.827962, 24.273437, 34.550024, 24.273437, 23.103067);\n    context.bezierCurveTo(24.273437, 11.656109, 33.553042, 2.376504, 45.000000, 2.376504);\n    context.bezierCurveTo(56.446958, 2.376504, 65.726563, 11.654442, 65.726563, 23.101399);\n    context.bezierCurveTo(65.726563, 34.548357, 56.446958, 43.827962, 45.000000, 43.827962);\n    context.fill();\n    context.restore();\n  }\n\n  renderImage(context, position) {\n    if (this.options.image) {\n      const size = this.size;\n      const x = position[0] - size[0] / 2;\n      const y = position[1] - size[1] / 2;\n\n      context.drawImage(this.options.image, x, y, size[0], size[1]);\n    }\n  }\n}\n","import { defaultPolygonOptions, defaultPolygonHoverOptions } from './defaultOptions';\nimport TileConversion from './TileConversion';\nimport { feature } from 'topojson-client';\nimport classifyPoint from 'robust-point-in-polygon';\n\nexport default class Polygon {\n  constructor(json, objectName, options = {}, hoverOptions = null) {\n    this._options = Object.assign({}, defaultPolygonOptions, options);\n    this._hoverOptions = Object.assign({}, defaultPolygonOptions, defaultPolygonHoverOptions, hoverOptions);\n\n    this.geometry = feature(json, json.objects[objectName]);\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  get hoverOptions() {\n    return this._hoverOptions;\n  }\n\n  get geometry() {\n    return window._geometry;\n  }\n\n  set geometry(geometry) {\n    window._geometry = geometry;\n  }\n\n  get projectedGeometry() {\n    return window._projectedGeometry;\n  }\n\n  set projectedGeometry(projectedGeometry) {\n    window._projectedGeometry = projectedGeometry;\n  }\n\n  get projectedGeometryState() {\n    return this._projectedGeometryState;\n  }\n\n  set projectedGeometryState(projectedGeometryState) {\n    this._projectedGeometryState = projectedGeometryState;\n  }\n\n  handleMouseOver(context, mapState, mousePosition) {\n    const currentlyZooming = Math.round(mapState.zoom) !== mapState.zoom;\n\n    if (!this.geometry || !this.projectedGeometry || currentlyZooming) {\n      return [];\n    }\n\n    const canvasCenter = [\n      mapState.canvasDimensions[0] / 2,\n      mapState.canvasDimensions[1] / 2\n    ];\n\n    const originZoom = this.determineOriginZoom(mapState);\n    const centerOffset = this.calculateCenterOffset(mapState, originZoom);\n    const point = [\n      mousePosition.x - centerOffset[0] - canvasCenter[0],\n      mousePosition.y - centerOffset[1] - canvasCenter[1]\n    ];\n\n    return this.projectedGeometry.filter(item => {\n      const isHover = item.geometry.filter(list => classifyPoint(list, point) === -1).length > 0;\n\n      if (isHover) {\n        context.beginPath();\n\n        item.geometry.map((list) => {\n          list.map((position, index) => {\n            position = [\n              position[0] + centerOffset[0] + canvasCenter[0],\n              position[1] + centerOffset[1] + canvasCenter[1]\n            ];\n\n            if (index === 0) {\n              context.moveTo(position[0], position[1]);\n            } else {\n              context.lineTo(position[0], position[1]);\n            }\n          });\n        });\n\n        this.applyContextStyles(context, this.hoverOptions, mapState.zoom);\n\n        if (this.options.enableStroke) context.fill();\n        if (this.options.enableFill) context.stroke();\n      }\n\n      return isHover;\n    });\n  }\n\n  calculateCenterOffset(mapState, originZoom) {\n    return [\n      -(TileConversion.lon2tile(mapState.center[1], originZoom, false) * mapState.tileSize),\n      -(TileConversion.lat2tile(mapState.center[0], originZoom, false) * mapState.tileSize)\n    ];\n  }\n\n  render(context, mapState) {\n    if (!this.geometry) {\n      return;\n    }\n\n    const originZoom = this.determineOriginZoom(mapState);\n\n    const zoomDiff = originZoom\n      ? mapState.zoom - originZoom\n      : 0;\n\n    const scale = zoomDiff !== 0\n      ? Math.pow(2, zoomDiff)\n      : 1;\n\n    const mapCenterChanged = this.renderedMapCenter !== mapState.center,\n      mapZoomChanged = (zoomDiff === 0 && this.renderedZoomLevel !== mapState.zoom);\n\n    const shouldReRender = mapCenterChanged || mapZoomChanged;\n\n    let centerOffset = null;\n\n    if (shouldReRender) {\n      this.renderedZoomLevel = mapState.zoom;\n      this.renderedMapCenter = mapState.center;\n\n      this.projectedGeometry = this.geometry.features.map(feature => {\n        return {\n          ...feature,\n          geometry: this.projectGeometry(feature.geometry, mapState)\n        };\n      });\n\n      centerOffset = this.calculateCenterOffset(mapState, originZoom);\n\n      this.calculatePolygonExtends(centerOffset);\n    }\n\n    const canvasCenter = [\n      mapState.canvasDimensions[0] / 2,\n      mapState.canvasDimensions[1] / 2\n    ];\n\n    const imagePosition = [\n      canvasCenter[0] + mapState.moveOffset[0] + (this.polygonExtends.minX * scale),\n      canvasCenter[1] + mapState.moveOffset[1] + (this.polygonExtends.minY * scale)\n    ];\n\n    const imageRect = {\n      left: Math.floor(imagePosition[0] * -1),\n      right: Math.ceil(Math.abs(imagePosition[0]) + mapState.canvasDimensions[0]),\n      top: Math.floor(imagePosition[1] * -1),\n      bottom: Math.ceil(Math.abs(imagePosition[1]) + mapState.canvasDimensions[1])\n    };\n\n    if (shouldReRender) {\n      this.renderOffscreenCanvas(mapState, centerOffset, imageRect);\n    }\n\n    const imageDrawPosition = [\n      mapState.moveOffset[0] - (canvasCenter[0] * (scale - 1)),\n      mapState.moveOffset[1] - (canvasCenter[1] * (scale - 1))\n    ];\n\n    const scaledWidth = this.polygonDimensions[0] * scale,\n      scaledHeight = this.polygonDimensions[1] * scale;\n\n    context.drawImage(\n      this.offscreenCanvas,\n      imageDrawPosition[0], imageDrawPosition[1],\n      scaledWidth, scaledHeight\n    );\n  }\n\n  determineOriginZoom(mapState) {\n    let originZoom = mapState.zoom;\n\n    if (mapState.targetZoom > mapState.zoom) { // Zoming in\n      originZoom = Math.floor(mapState.zoom);\n    } else if (mapState.targetZoom < mapState.zoom) { // Zooming out\n      originZoom = Math.ceil(mapState.zoom);\n    }\n\n    return originZoom;\n  }\n\n  createOffscreenCanvas(clipRect) {\n    this.polygonDimensions = [\n      clipRect.right - clipRect.left,\n      clipRect.bottom - clipRect.top\n    ];\n\n    this.offscreenCanvas = document.createElement('canvas');\n    this.offscreenCanvas.width = this.polygonDimensions[0];\n    this.offscreenCanvas.height = this.polygonDimensions[1];\n\n    return this.offscreenCanvas.getContext('2d');\n  }\n\n  calculatePolygonExtends(centerOffset) {\n    let minX, maxX, minY, maxY = null;\n\n    this.mapGeometry(position => {\n      position = [\n        position[0] + centerOffset[0],\n        position[1] + centerOffset[1]\n      ];\n\n      if (!maxX || position[0] > maxX) {\n        maxX = position[0];\n      }\n\n      if (!minX || position[0] < minX) {\n        minX = position[0];\n      }\n\n      if (!maxY || position[1] > maxY) {\n        maxY = position[1];\n      }\n\n      if (!minY || position[1] < minY) {\n        minY = position[1];\n      }\n    });\n\n    this.polygonDimensions = [\n      Math.ceil(maxX - minX),\n      Math.ceil(maxY - minY)\n    ];\n\n    this.polygonExtends = {\n      minX, maxX,\n      minY, maxY\n    };\n  }\n\n  renderOffscreenCanvas(mapState, centerOffset, clipRect) {\n    const offscreenContext = this.createOffscreenCanvas(clipRect);\n\n    offscreenContext.beginPath();\n    offscreenContext.font = 'bold 8px helvetica';\n\n    this.projectedGeometry.map((item) =>\n      item.geometry.map((list) => {\n        const pointsInClipRect = list.filter(position => {\n          position = [\n            position[0] - this.polygonExtends.minX + centerOffset[0],\n            position[1] - this.polygonExtends.minY + centerOffset[1]\n          ];\n\n          return position[0] >= clipRect.left && position[0] <= clipRect.right\n           && position[1] >= clipRect.top && position[1] <= clipRect.bottom;\n        });\n\n        if (pointsInClipRect.length > 0) {\n          list.map((position, index) => {\n            position = [\n              position[0] - this.polygonExtends.minX + centerOffset[0] - clipRect.left,\n              position[1] - this.polygonExtends.minY + centerOffset[1] - clipRect.top\n            ];\n\n            if (index === 0) {\n              // offscreenContext.fillText(item.properties.NAME, position[0], position[1]);\n\n              offscreenContext.moveTo(position[0], position[1]);\n            } else {\n              offscreenContext.lineTo(position[0], position[1]);\n            }\n          });\n        }\n      })\n    );\n\n    this.applyContextStyles(offscreenContext, this.options, mapState.zoom);\n\n    if (this.options.enableStroke) offscreenContext.fill();\n    if (this.options.enableFill) offscreenContext.stroke();\n  }\n\n  applyContextStyles(context, options, zoom) {\n    context.fillStyle = options.fillStyle;\n    context.strokeStyle = options.strokeStyle;\n    context.lineWidth = options.lineWidth * zoom;\n    context.setLineDash(options.lineDash);\n    context.lineJoin = 'round';\n  }\n\n  mapGeometry(pointCallback) {\n    return this.projectedGeometry.map((item) =>\n      item.geometry.map((list) =>\n        list.map(pointCallback)\n      )\n    );\n  }\n\n  projectGeometry(geometry, mapState) {\n    switch (geometry.type) {\n      case 'Polygon':\n        return [geometry.coordinates[0].map(item => this.projectPoint(mapState, item[0], item[1]))];\n\n      case 'MultiPolygon':\n        return geometry.coordinates.map(coordinates =>\n          coordinates[0].map(item => this.projectPoint(mapState, item[0], item[1]))\n        );\n    }\n\n    return [];\n  }\n\n  projectPoint(mapState, x, y) {\n    const position = TileConversion.latLonToPixel(\n      [y, x],\n      null,\n      mapState.zoom,\n      mapState.tileSize\n    );\n\n    return [-position[0], -position[1]];\n  }\n}\n","export default class Tile {\n  constructor(x, y, zoom) {\n    this._x = x;\n    this._y = y;\n    this._zoom = zoom;\n  }\n\n  get x() {\n    return this._x;\n  }\n\n  get y() {\n    return this._y;\n  }\n\n  get zoom() {\n    return this._zoom;\n  }\n\n  get id() {\n    return [this.x, this.y, this.zoom].join('|');\n  }\n\n  isValid() {\n    const max = (1 << this.zoom);\n\n    if (this.x >= max || this.x < 0 || this.y >= max || this.y < 0) {\n      return false;\n    }\n\n    return true;\n  }\n}\n","// Based on https://wiki.openstreetmap.org/wiki/Slippy_map_tilenames#ECMAScript_.28JavaScript.2FActionScript.2C_etc..29\nexport default class TileConversion {\n  static lon2tile(lon, zoom, rounded = true) {\n    const tile = (lon + 180) / 360 * Math.pow(2, zoom);\n\n    return rounded\n      ? Math.floor(tile)\n      : tile;\n  }\n\n  static lat2tile(lat, zoom, rounded = true) {\n    const tile = (1 - Math.log(Math.tan(lat * Math.PI / 180) + 1 / Math.cos(lat * Math.PI / 180))\n      / Math.PI) / 2 * Math.pow(2, zoom);\n\n    return rounded\n      ? Math.floor(tile)\n      : tile;\n  }\n\n  static tile2lon(x, z) {\n    return x / Math.pow(2, z) * 360 - 180;\n  }\n\n  static tile2lat(y, z) {\n    const n = Math.PI - 2 * Math.PI * y / Math.pow(2, z);\n\n    return 180 / Math.PI * Math.atan(0.5 * (Math.exp(n) - Math.exp(-n)));\n  }\n\n  static tile2boundingBox(x, y, zoom) {\n    return {\n      ne: [\n        TileConversion.tile2lat(y, zoom),\n        TileConversion.tile2lon(x + 1, zoom)\n      ],\n\n      sw: [\n        TileConversion.tile2lat(y + 1, zoom),\n        TileConversion.tile2lon(x, zoom)\n      ]\n    };\n  }\n\n  static pixelToLatLon(pixel, center, zoom, tileSize) {\n    const pointDiff = [\n      pixel[0] / tileSize,\n      pixel[1] / tileSize\n    ];\n\n    const tileX = TileConversion.lon2tile(center[1], zoom, false) - pointDiff[0];\n    const tileY = TileConversion.lat2tile(center[0], zoom, false) - pointDiff[1];\n\n    return [\n      TileConversion.tile2lat(tileY, zoom),\n      TileConversion.tile2lon(tileX, zoom)\n    ];\n  }\n\n  static latLonToPixel(coord, center, zoom, tileSize) {\n    const tileX = TileConversion.lon2tile(coord[1], zoom, false);\n    const tileY = TileConversion.lat2tile(coord[0], zoom, false);\n\n    let tileCenterX = 0, tileCenterY = 0;\n\n    if (center) {\n      tileCenterX = TileConversion.lon2tile(center[1], zoom, false);\n      tileCenterY = TileConversion.lat2tile(center[0], zoom, false);\n    }\n\n    return [\n      -(tileX - tileCenterX) * tileSize,\n      -(tileY - tileCenterY) * tileSize\n    ];\n  }\n}\n","import TileConversion from './TileConversion';\nimport Tile from './Tile';\n\nexport default class TileLayer {\n\n  constructor(map, tilesZoomLevel = null) {\n    this.map = map;\n    this.tilesZoomLevel = tilesZoomLevel;\n    this.shouldBeDeleted = false;\n\n    this.context = map.context;\n\n    this.state = {\n      grid: [],\n      gridHash: null,\n      relativeTileOffset: [0, 0]\n    };\n  }\n\n  toJSON() {\n    return [\n      this.state,\n      this.loadedPercentage() // We want a change in loaded tiles to possibly trigger a redraw\n    ];\n  }\n\n  getTilesCount(canvasSize) {\n    let tilesCount = Math.ceil(canvasSize / this.map.options.tileSize) * this.map.options.tileAreaMultiplier;\n\n    if (tilesCount % 2 === 0) {\n      tilesCount++;\n    }\n\n    return tilesCount;\n  }\n\n  calculateGrid() {\n    const { state, options } = this.map;\n\n    const centerY = TileConversion.lat2tile(options.center[0], Math.round(this.tilesZoomLevel || options.zoom), false);\n    const centerX = TileConversion.lon2tile(options.center[1], Math.round(this.tilesZoomLevel || options.zoom), false);\n    const gridHash = [centerY, centerX].join(',');\n\n    const gridNeedsToBeUpdated = this.state.gridHash !== gridHash;\n\n    if (!gridNeedsToBeUpdated) {\n      return;\n    }\n\n    const horizontalTiles = this.getTilesCount(state.canvasDimensions[0]);\n    const verticalTiles = this.getTilesCount(state.canvasDimensions[1]);\n\n    // noinspection JSSuspiciousNameCombination\n    const centerYRounded = Math.floor(centerY);\n    const centerXRounded = Math.floor(centerX);\n\n    this.state.relativeTileOffset = [\n      Math.abs(centerX - centerXRounded),\n      Math.abs(centerY - centerYRounded)\n    ];\n\n    const startX = centerXRounded - Math.floor(horizontalTiles / 2);\n    const startY = centerYRounded - Math.floor(verticalTiles / 2);\n\n    let grid = [];\n\n    for (let y = 0; y < verticalTiles; y++) {\n      for (let x = 0; x < horizontalTiles; x++) {\n        if (!grid[x]) {\n          grid[x] = [];\n        }\n\n        const tileX = startX + x;\n        const tileY = startY + y;\n\n        const tile = new Tile(tileX, tileY, Math.round(this.tilesZoomLevel || options.zoom));\n\n        if (tile.isValid()) {\n          this.ensureTileAsset(tile);\n          grid[x][y] = tile;\n        }\n      }\n    }\n\n    this.state.grid = grid;\n    this.state.gridHash = gridHash;\n  }\n\n  ensureTileAsset(tile) {\n    if (!(tile.id in this.map.state.tiles)) {\n      const tileUrl = this.map.options.source(Math.floor(tile.x), Math.floor(tile.y), tile.zoom);\n\n      this.map.state.tiles[tile.id] = new Image();\n      this.map.state.tiles[tile.id].tileId = tile.id;\n      this.map.state.tiles[tile.id].src = tileUrl;\n      this.map.state.tiles[tile.id].loaded = false;\n      this.map.state.tiles[tile.id].onload = () => {\n        this.map.state.tiles[tile.id].loaded = true;\n      };\n    }\n\n    this.map.state.tiles[tile.id].lastRequested = new Date().getTime();\n  }\n\n  drawTiles(scale) {\n    const canvasWidth = this.map.state.canvasDimensions[0];\n    const canvasHeight = this.map.state.canvasDimensions[1];\n\n    const tileSize = this.map.options.tileSize * scale;\n\n    const centerOffset = [\n      tileSize / 2 - (this.state.relativeTileOffset[0] * tileSize),\n      tileSize / 2 - (this.state.relativeTileOffset[1] * tileSize)\n    ];\n\n    this.context.fillStyle = '#EEE';\n    this.context.fillRect(0, 0, canvasWidth, canvasHeight);\n\n    const horizontalTiles = this.getTilesCount(canvasWidth);\n    const verticalTiles = this.getTilesCount(canvasHeight);\n\n    const horizontalOverflow = (horizontalTiles * tileSize) - canvasWidth;\n    const verticalOverflow = (verticalTiles * tileSize) - canvasHeight;\n\n    for (let y = 0; y < verticalTiles; y++) {\n      for (let x = 0; x < horizontalTiles; x++) {\n        const tile = this.state.grid[x][y];\n\n        if (tile) {\n          const tileX = this.map.state.moveOffset[0] + centerOffset[0]\n            + (x * tileSize - horizontalOverflow / 2);\n\n          const tileY = this.map.state.moveOffset[1] + centerOffset[1]\n            + (y * tileSize - verticalOverflow / 2);\n\n          try {\n            if (this.map.state.tiles[tile.id].loaded) {\n              this.context.drawImage(this.map.state.tiles[tile.id], tileX, tileY, tileSize, tileSize);\n            } else {\n              this.drawGenericBackground(tileX, tileY, tileSize);\n            }\n          } catch (err) {\n            this.drawGenericBackground(tileX, tileY, tileSize);\n          }\n\n          if (this.map.options.debug) {\n            this.context.strokeStyle = 'green';\n            this.context.strokeRect(tileX, tileY, tileSize, tileSize);\n          }\n        }\n      }\n    }\n\n    if (this.map.options.debug) {\n      this.context.fillStyle = 'rgba(200, 0, 0, 0.7)';\n      this.context.beginPath();\n      this.context.arc(canvasWidth / 2, canvasHeight / 2, 5, 0, 2 * Math.PI);\n      this.context.fill();\n    }\n  }\n\n  drawGenericBackground(x, y, size) {\n    const increment = size / 8;\n\n    this.context.beginPath();\n    for (let lineX = increment; lineX < size; lineX += increment) {\n      for (let lineY = increment; lineY < size; lineY += increment) {\n        this.context.moveTo(x, y + lineY);\n        this.context.lineTo(x + size, y + lineY);\n\n        this.context.moveTo(x + lineX, y);\n        this.context.lineTo(x + lineX, y + size);\n      }\n    }\n    this.context.strokeStyle = '#DDD';\n    this.context.stroke();\n\n    this.context.strokeStyle = '#CCC';\n    this.context.strokeRect(x, y, size, size);\n  }\n\n  loadedPercentage() {\n    const horizontalTiles = this.getTilesCount(this.map.state.canvasDimensions[0]);\n    const verticalTiles = this.getTilesCount(this.map.state.canvasDimensions[1]);\n\n    let totalTiles = 0, loadedTiles = 0;\n\n    for (let y = 0; y < verticalTiles; y++) {\n      for (let x = 0; x < horizontalTiles; x++) {\n        const tile = this.state.grid[x][y];\n\n        if (tile) {\n          totalTiles++;\n        }\n\n        const cachedTile = tile && this.map.state.tiles[tile.id];\n\n        if (cachedTile && cachedTile.loaded) {\n          loadedTiles++;\n        }\n      }\n    }\n\n    return loadedTiles / totalTiles;\n  }\n}\n","export const defaultMapOptions = {\n  /**\n   * Common options\n   */\n  source: (x, y, z) => `https://maps.geocod.io/tiles/base/${z}/${x}/${y}.png`,\n  zoom: 12,\n  center: [38.841779, -77.088312],\n  attribution: '© OpenStreetMap contributors',\n\n  /**\n   * Width and height in pixels for each tile, you most likely do not want to change this.\n   */\n  tileSize: 256,\n\n  /**\n   * Determines the distance travelled when panning the map, the higher the value the further the\n   * distance\n   */\n  panAccelerationMultiplier: 2,\n\n  /**\n   * The maximum acceleration constant for when the map is thrown. This is in place to avoid\n   * super-sonic acceleration speeds :)\n   */\n  maxPanAcceleration: 3.5,\n\n  /**\n   * Only consider high velocity mouse movements that has been performed within this timing\n   * threshold (in milliseconds)\n   */\n  throwTimingThresholdMs: 100,\n\n  /**\n   * If the mouse panning velocity is above this threshold, it is considering a throw rather than\n   * a regular pan. We use this to pan further when the mouse is moved quickly\n   */\n  throwVelocityThreshold: 3000,\n\n  /**\n   * How quickly panning and zooming animations are executed (in milliseconds)\n   */\n  animationDurationMs: 300,\n\n  /*\n   * Used for debouncing events such as scrolling\n   * Note: Needs to be greater than the animationDurationMs value\n   */\n  debounceIntervalMs: 350,\n\n  /**\n   * Determines how many additional tiles that should be loaded, to decrease map load times when\n   * panning the map around\n\n   * Minimum value: 1.25\n   */\n  tileAreaMultiplier: 2,\n\n  /**\n   * When debug mode is enabled, additional rendering artifacts are drawn. Should only be used in\n   * conjuction with development of the library\n   */\n  debug: false\n};\n\nexport const defaultMarkerOptions = {\n  /**\n   * What color should the marker be?\n   * Supports hex, rgb and rgba values\n   */\n  color: 'rgba(0, 0, 200, 0.7)',\n\n  /**\n   * Valid values: marker, circle, donut\n   */\n  type: 'marker'\n};\n\nexport const defaultPolygonOptions = {\n  /**\n   * Whether the polygon should have a stroked line\n   */\n  enableStroke: true,\n\n  /**\n   * What color should the polygon lines be?\n   * Supports hex, rgb and rgba values\n   */\n  strokeStyle: 'rgba(50, 25, 50, 1.0)',\n\n  /**\n   * Specify distances to alternately draw a line and a gap to form\n   * a dashed or dotted line. Line will be solid if array is empty\n   */\n  lineDash: [],\n\n  /**\n   * Specify the thickness of polygon lines. The width scales with the zoom level, so the actual\n   * width in pixels is: lineWidth * zoom\n   */\n  lineWidth: 0.25,\n\n  /**\n   * Whether the polygon should be filled with a color\n   */\n  enableFill: true,\n\n  /**\n   * What color should the polygon be filled with?\n   * Supports hex, rgb and rgba values\n   */\n  fillStyle: 'rgba(0, 0, 0, 0.2)'\n};\n\nexport const defaultPolygonHoverOptions = {\n  strokeStyle: 'red',\n  lineWidth: 0.5\n};\n\n","import Map from './Map';\nimport Marker from './Marker';\nimport Polygon from './Polygon';\n\nexport {\n  Map,\n  Marker,\n  Polygon\n};\n"],"sourceRoot":""}